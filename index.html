<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="stylesheet" href="./lib/style.css" />
    <link rel="stylesheet" href="./public/SpecialElite-Regular.ttf"/>
  </head>
  <body>
    <div class="main-container flex column">
      <div class="header">
        <img class="main-img" src="./public/main-image.jpg" />          
        <p class="title">
          <span class="title-red">Amor</span>
          <span class="title-blue">, meu <br /> <i>futuro</i></span>
          <span class="title-space"></span>
          <span class="title-blue">amor...</span>
          
        <p class="phrase">juntado de cartas para amores por vir</p>
      </div> 
      <!-- this div block (before the buttons) must be centralized-->  
    </div>
    <br />
    <br />
    <div class="bttn-container">
      <button class="bttn-1">
        <div class="overlap-group">
        <div class="buttn-1-text">sobre</div>
      </button>
      <br></br>
      <button class="bttn-2">
        <div class="overlap-group">
        <div class="bttn-2-text">envie sua carta</div>
      </button>
    </div>  
    <br /> 
    <div id="grid-container" class="grid flex column">
      <div id="post1"></div>
      <div id="post2"></div>
      <div id="post3"></div>
      <div id="post4"></div>
      <div id="post5"></div>
      <div id="post6"></div>
      <div id="post7"></div>
      <div id="post8"></div>
    </div>
  </body> 
    <div class="form-container flex column">
        <form id="form-letter" class="form flex column">
          <label for="txt-area" class="statement"> Escreva aqui a sua carta para um futuro amor</label>
          <br></br>
          <textarea type="text" id="txt-area" class="box" name="letter" maxlength="6000" rows="10" cols="100" required></textarea>
          <br></br>
          <button class="bttn-3" type="submit">Enviar para o futuro</button>
        </form>
        <p id="result"> 
    </div>     
  <footer>
    <div class="footer flex column">
      <p class="poetry">Para um amor existir no futuro, primeiro é preciso imaginá-lo.</p>
      <p class="about">O AMFA é uma instalação artística virtual  que compila cartas de pessoas para o futuro amor, ou o grande amor, 
          e também uma intervenção urbana, que espalha lambes dessas cartas pela cidade. O projeto nasce na cidade de 
          Salvador - Bahia, e invoca seus interlocutores (e possíveis futuros colaboradores) a compartilharem perspectivas 
          poéticas da idéia, (ou existência), de futuros/possíveis/grandes amores.
      </p>
    </div>  
  </footer>
  <script>
      const form = document.getElementById("form-letter")

      form.addEventListener("submit", function(event) {
        event.preventDefault();
        const formData = new FormData(this);
        const entries = formData.entries();
        const data = Object.fromEntries(entries);

        console.log({ data })

        fetch("/", {
          method: "POST",
          body: JSON.stringify(data),
          headers: {
            "Content-Type": "application/json"
          }
        })
          .then(res => { 
            document.getElementById("result").innerHTML = "Carta enviada!"
          })
          .catch(/**/);
      });
  </script>
</html>
